function showStreetviewForLocation(longitude, latitude, windowless) { var height = $(document).height() * 0.90; var width = $(document).width() * 0.90; if (!streetviewDialog) { var clone = $('div.vevent').clone().addClass('ui-dialog-vevent'); clone.append("<div id='panel' style='width: 100%; height: 100%;'></div>"); streetviewDialog = $(clone).dialog({ 'modal': true, 'width': width, 'height': height, 'title': 'Street View', 'resizable': false, 'close': function () { var host = document.getElementById('silverlightControlHost'); if (host != null && slHostHeight != null && slHostWidth != null) { host.style.height = slHostHeight; host.style.width = slHostWidth; } } }); } else { streetviewDialog.dialog('option', 'width', width); streetviewDialog.dialog('option', 'height', height); streetviewDialog.dialog('open'); $('.ui-widget-overlay').resize(); }; var host = document.getElementById('silverlightControlHost'); if (!windowless && host != null) { slHostHeight = host.style.height; host.style.height = '0%'; slHostWidth = host.style.width; host.style.width = '0%'; }; $('#map_canvas').gmap('displayStreetView', 'panel', { 'position': new google.maps.LatLng(latitude, longitude) }); }